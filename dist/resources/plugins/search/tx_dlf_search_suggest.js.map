{"version":3,"sources":["plugins/search/tx_dlf_search_suggest.js"],"names":["$","attr","autocomplete","source","request","response","post","eID","q","encodeURIComponent","term","toLowerCase","encrypted","val","hashed","data","result","option","each","i","text","replace","push","minLength","appendTo"],"mappings":";;AAAA;;;;;;;;;;AAUAA,EAAE,sBAAF,EAA0BC,IAA1B,CAA+B;AAC9B,iBAAgB,KADc;AAE9B,SAAQ,SAFsB;AAG9B,sBAAqB,MAHS;AAI9B,kBAAiB;AAJa,CAA/B;;AAOAD,EACC,YAAW;AACV;AACAA,GAAE,sBAAF,EAA0BE,YAA1B,CAAuC;AACtCC,UAAQ,gBAASC,OAAT,EAAkBC,QAAlB,EAA4B;AACnC,UAAOL,EAAEM,IAAF,CACN,GADM,EAEN;AACCC,SAAK,uBADN;AAECC,OAAGC,mBAAmBL,QAAQM,IAAR,CAAaC,WAAb,EAAnB,CAFJ;AAGCC,eAAWZ,EAAE,iCAAF,EAAqCa,GAArC,EAHZ;AAICC,YAAQd,EAAE,8BAAF,EAAkCa,GAAlC;AAJT,IAFM,EAQN,UAASE,IAAT,EAAe;AACd,QAAIC,SAAS,EAAb;AACA,QAAIC,SAAS,EAAb;AACAjB,MAAE,4BAAF,EAAgCe,IAAhC,EAAsCG,IAAtC,CAA2C,UAASC,CAAT,EAAY;AACtDF,cAASjB,EAAE,IAAF,EAAQoB,IAAR,EAAT;AACAH,cAASA,OAAOI,OAAP,CAAe,WAAf,EAA4B,OAA5B,CAAT;AACAL,YAAOM,IAAP,CAAYL,MAAZ;AACA,KAJD;AAKA,WAAOZ,SAASW,MAAT,CAAP;AACA,IAjBK,EAkBN,KAlBM,CAAP;AAmBA,GArBqC;AAsBtCO,aAAW,CAtB2B;AAuBtCC,YAAU;AAvB4B,EAAvC;AAyBA,CA5BF","file":"tx_dlf_search_suggest.js","sourcesContent":["/**\n * (c) Kitodo. Key to digital objects e.V. <contact@kitodo.org>\n *\n * This file is part of the Kitodo and TYPO3 projects.\n *\n * @license GNU General Public License version 3 or later.\n * For the full copyright and license information, please read the\n * LICENSE.txt file that was distributed with this source code.\n */\n\n$(\"#tx-dlf-search-query\").attr({\n\t'autocomplete': \"off\",\n\t'role': \"textbox\",\n\t'aria-autocomplete': \"list\",\n\t'aria-haspopup': \"true\"\n});\n\n$(\n\tfunction() {\n\t\t// jQuery autocomplete integration\n\t\t$(\"#tx-dlf-search-query\").autocomplete({\n\t\t\tsource: function(request, response) {\n\t\t\t\treturn $.post(\n\t\t\t\t\t\"/\",\n\t\t\t\t\t{\n\t\t\t\t\t\teID: \"tx_dlf_search_suggest\",\n\t\t\t\t\t\tq: encodeURIComponent(request.term.toLowerCase()),\n\t\t\t\t\t\tencrypted: $(\"input[name='tx_dlf[encrypted]']\").val(),\n\t\t\t\t\t\thashed: $(\"input[name='tx_dlf[hashed]']\").val()\n\t\t\t\t\t},\n\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\tvar result = [];\n\t\t\t\t\t\tvar option = \"\";\n\t\t\t\t\t\t$(\"arr[name='suggestion'] str\", data).each(function(i) {\n\t\t\t\t\t\t\toption = $(this).text();\n\t\t\t\t\t\t\toption = option.replace(/(\\?|!|:)/g, \"\\\\\\$1\");\n\t\t\t\t\t\t\tresult.push(option);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn response(result);\n\t\t\t\t\t},\n\t\t\t\t\t\"xml\");\n\t\t\t},\n\t\t\tminLength: 3,\n\t\t\tappendTo: \"#tx-dlf-search-suggest\"\n\t\t});\n\t}\n);\n"],"sourceRoot":"/home/christopher/IdeaProjects/kitodo-presentation/es6"}