{"version":3,"sources":["plugins/pageview/tests/spec/tx_dlf_altoparser.spec.js"],"names":["describe","document","textblock","it","parser","dlfAltoParser","testDoc","parseXML_","expect","XMLDocument","toBe","$","parseXML","element","find","geometry","parseGeometry_","ol","geom","Polygon","feature","parseFeatureWithGeometry_","Feature","get","parseAltoFeature_","features","parseTextBlockFeatures_","length","textline","parseTextLineFeatures_","parsePrintSpaceFeature_","blocks","undefined","parseFeatures","printspace","stringFeatures","getStringFeatures"],"mappings":"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","file":"tx_dlf_altoparser.spec.js","sourcesContent":["/**\n * (c) Kitodo. Key to digital objects e.V. <contact@kitodo.org>\n *\n * This file is part of the Kitodo and TYPO3 projects.\n *\n * @license GNU General Public License version 3 or later.\n * For the full copyright and license information, please read the\n * LICENSE.txt file that was distributed with this source code.\n */\n\ndescribe('Test suite for the dlfAltoParser', function() {\n\n    var document = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>' +\n        '<alto xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" ' +\n        'xmlns=\"http://www.loc.gov/standards/alto/ns-v2#\" xsi:schemaLocation=\"http://www.loc.gov/standards/alto/ns-v2# ' +\n        'http://www.loc.gov/standards/alto/alto-v2.0.xsd\"><Layout><Page ID=\"Page1\" PHYSICAL_IMG_NR=\"1\">' +\n        '<PrintSpace HEIGHT=\"1629\" WIDTH=\"1125\" VPOS=\"0\" HPOS=\"0\"><TextBlock ID=\"BlockId-A77C2C7B-CB7F-432C-BA64-99657CEF96BE-\" ' +\n        'HEIGHT=\"24\" WIDTH=\"18\" VPOS=\"85\" HPOS=\"104\" STYLEREFS=\"StyleId-070C6916-2652-4C51-8B54-1185B1E5E973- font1\">' +\n        '<TextLine HEIGHT=\"15\" WIDTH=\"10\" VPOS=\"89\" HPOS=\"108\"><String CONTENT=\"2\" HEIGHT=\"15\" WIDTH=\"10\" VPOS=\"89\" ' +\n        'HPOS=\"108\"/></TextLine></TextBlock><ComposedBlock ID=\"BlockId-E8254DC2-E15F-4181-9CA4-6EA36940863B-\" ' +\n        'HEIGHT=\"203\" WIDTH=\"694\" VPOS=\"140\" HPOS=\"103\" TYPE=\"table\"><TextBlock ' +\n        'ID=\"BlockId-52809789-89AA-4D70-9BFF-23097229F168-\" HEIGHT=\"29\" WIDTH=\"51\" ' +\n        'VPOS=\"140\" HPOS=\"103\" STYLEREFS=\"StyleId-20CD36A1-2BCE-4E7D-AAB2-3AD839533AF2-font1\">' +\n        '<TextLine HEIGHT=\"15\" WIDTH=\"40\" VPOS=\"144\" HPOS=\"107\"><String STYLEREFS=\"font0\" CONTENT=\"Seite\" ' +\n        'HEIGHT=\"15\" WIDTH=\"40\" VPOS=\"144\" HPOS=\"107\"/></TextLine></TextBlock><TextBlock ' +\n        'ID=\"BlockId-97EA0C09-28B9-453B-AAE6-C7E5E53779F2-\" HEIGHT=\"42\" WIDTH=\"586\" VPOS=\"169\" HPOS=\"211\" ' +\n        'STYLEREFS=\"StyleId-20CD36A1-2BCE-4E7D-AAB2-3AD839533AF2- font1\"><TextLine HEIGHT=\"29\" WIDTH=\"559\" ' +\n        'VPOS=\"173\" HPOS=\"233\"><String CONTENT=\"Gespräch\" HEIGHT=\"25\" WIDTH=\"94\" VPOS=\"173\" HPOS=\"233\"/><SP WIDTH=\"6\" ' +\n        'VPOS=\"173\" HPOS=\"328\"/></TextLine></TextBlock></ComposedBlock><TextBlock ' +\n        'ID=\"BlockId-C9FE670C-DC48-44F9-B7EF-7980ADA80614-\" HEIGHT=\"545\" WIDTH=\"918\" VPOS=\"880\" HPOS=\"119\" ' +\n        'STYLEREFS=\"StyleId-20CD36A1-2BCE-4E7D-AAB2-3AD839533AF2- font1\"><TextLine HEIGHT=\"32\" WIDTH=\"214\" ' +\n        'VPOS=\"883\" HPOS=\"127\" STYLEREFS=\"StyleId-20D43B5F-E91D-4F10-B0E1-B68D39E7C301- font2\"><String ' +\n        'CONTENT=\"In\" HEIGHT=\"23\" WIDTH=\"27\" VPOS=\"883\" HPOS=\"127\"/><SP WIDTH=\"9\" VPOS=\"892\" HPOS=\"155\"/><String ' +\n        'CONTENT=\"eigener\" HEIGHT=\"31\" WIDTH=\"93\" VPOS=\"884\" HPOS=\"165\"/><SP WIDTH=\"8\" VPOS=\"884\" HPOS=\"259\"/><String ' +\n        'CONTENT=\"Sache\" HEIGHT=\"24\" WIDTH=\"73\" VPOS=\"883\" HPOS=\"268\"/></TextLine><TextLine HEIGHT=\"25\" WIDTH=\"878\" ' +\n        'VPOS=\"935\" HPOS=\"126\"><String CONTENT=\"Seit\" HEIGHT=\"19\" WIDTH=\"37\" VPOS=\"935\" HPOS=\"126\"/>' +\n        '<SP WIDTH=\"6\" VPOS=\"942\" HPOS=\"164\"/><String CONTENT=\"vier\" HEIGHT=\"19\" WIDTH=\"38\" VPOS=\"936\" HPOS=\"171\"/>' +\n        '<SP WIDTH=\"3\" VPOS=\"936\" HPOS=\"210\"/></TextLine><TextLine HEIGHT=\"27\" WIDTH=\"904\" VPOS=\"967\" HPOS=\"126\">' +\n        '<String CONTENT=\"die\" HEIGHT=\"19\" WIDTH=\"30\" VPOS=\"967\" HPOS=\"126\"/><SP WIDTH=\"6\" VPOS=\"968\" HPOS=\"157\"/>' +\n        '<String CONTENT=\"Unterstützung\" HEIGHT=\"26\" WIDTH=\"148\" VPOS=\"968\" HPOS=\"164\"/><SP WIDTH=\"5\" VPOS=\"976\" ' +\n        'HPOS=\"313\"/></TextLine></TextBlock><ComposedBlock ID=\"BlockId-557B27A6-D4C2-4A5A-9F2D-BA0B8E97B692-\" ' +\n        'HEIGHT=\"599\" WIDTH=\"964\" VPOS=\"856\" HPOS=\"97\" TYPE=\"separatorsBox\"><GraphicalElement ' +\n        'ID=\"BlockId-30DBD37F-D27E-4AFB-9A01-507405CEC5A0-\" HEIGHT=\"9\" WIDTH=\"959\" VPOS=\"856\" HPOS=\"102\"/>' +\n        '<GraphicalElement ID=\"BlockId-B07F29BB-604A-4675-B005-7E445C8E9155-\" HEIGHT=\"7\" WIDTH=\"746\" VPOS=\"1446\" ' +\n        'HPOS=\"97\"/></ComposedBlock><GraphicalElement ID=\"BlockId-D2E23C8E-2A3C-4E42-AE0A-F8361AD0784E-\" HEIGHT=\"6\" ' +\n        'WIDTH=\"704\" VPOS=\"119\" HPOS=\"107\"/><GraphicalElement ID=\"BlockId-38FD417B-72B6-4AA7-AF8D-3E19ABD7D81B-\" ' +\n        'HEIGHT=\"3\" WIDTH=\"256\" VPOS=\"124\" HPOS=\"811\"/></PrintSpace></Page></Layout></alto>';\n\n    var textblock = '<TextBlock ID=\"BlockId-52809789-89AA-4D70-9BFF-23097229F168-\" HEIGHT=\"29\" WIDTH=\"51\" VPOS=\"140\" ' +\n        'HPOS=\"103\" STYLEREFS=\"StyleId-20CD36A1-2BCE-4E7D-AAB2-3AD839533AF2- font1\">' +\n        '<TextLine HEIGHT=\"15\" WIDTH=\"40\" VPOS=\"144\" HPOS=\"107\">' +\n        '<String STYLEREFS=\"font0\" CONTENT=\"Seite\" HEIGHT=\"15\" WIDTH=\"40\" VPOS=\"144\" HPOS=\"107\"/>' +\n        '<SP WIDTH=\"9\" VPOS=\"892\" HPOS=\"155\"/><String CONTENT=\"eigener\" HEIGHT=\"31\" WIDTH=\"93\" VPOS=\"884\" HPOS=\"165\"/>' +\n        '<HYP WIDTH=\"8\" VPOS=\"884\" HPOS=\"259\"/><String CONTENT=\"Sache\" HEIGHT=\"24\" WIDTH=\"73\" VPOS=\"883\" HPOS=\"268\"/>' +\n        '</TextLine></TextBlock>';\n\n    describe('Test function - parseXML_', function() {\n\n        it('Input xml is of type string', function() {\n            var parser = new dlfAltoParser(),\n                testDoc = parser.parseXML_(document);\n            expect(parser.parseXML_(testDoc) instanceof XMLDocument).toBe(true);\n        });\n\n        it('Input xml is of type XMLDocument', function() {\n            var parser = new dlfAltoParser(),\n                testDoc = $.parseXML(document);\n            expect(parser.parseXML_(testDoc) instanceof XMLDocument).toBe(true);\n        });\n\n    });\n\n    describe('Test function - parseGeometry_', function() {\n\n        it('Proper working for correct element', function() {\n            var parser = new dlfAltoParser(),\n                testDoc = parser.parseXML_('<TextLine HEIGHT=\"15\" WIDTH=\"40\" VPOS=\"144\" HPOS=\"107\"></TextLine>'),\n                element = $(testDoc).find('TextLine'),\n                geometry = parser.parseGeometry_(element[0]);\n            expect(typeof geometry).toBe('object');\n            expect(geometry instanceof ol.geom.Polygon).toBe(true);\n        });\n\n    });\n\n    describe('Test function - parseFeatureWithGeometry_', function() {\n\n        it('Proper working for correct element <TextLine>', function() {\n            var parser = new dlfAltoParser(),\n                testDoc = parser.parseXML_('<TextLine HEIGHT=\"15\" WIDTH=\"40\" VPOS=\"144\" HPOS=\"107\"></TextLine>'),\n                element = $(testDoc).find('TextLine'),\n                feature = parser.parseFeatureWithGeometry_(element[0]);\n            expect(typeof feature).toBe('object');\n            expect(feature instanceof ol.Feature).toBe(true);\n            expect(feature.get('height')).toBe(15);\n            expect(feature.get('width')).toBe(40);\n            expect(feature.get('vpos')).toBe(144);\n            expect(feature.get('hpos')).toBe(107);\n            expect(feature.get('type')).toBe('textline');\n        });\n\n        it('Proper working for correct element <TextBlock>', function() {\n            var parser = new dlfAltoParser(),\n                testDoc = parser.parseXML_('<TextBlock HEIGHT=\"15\" WIDTH=\"40\" VPOS=\"144\" HPOS=\"107\"></TextBlock>'),\n                element = $(testDoc).find('TextBlock'),\n                feature = parser.parseFeatureWithGeometry_(element[0]);\n            expect(typeof feature).toBe('object');\n            expect(feature instanceof ol.Feature).toBe(true);\n            expect(feature.get('height')).toBe(15);\n            expect(feature.get('width')).toBe(40);\n            expect(feature.get('vpos')).toBe(144);\n            expect(feature.get('hpos')).toBe(107);\n            expect(feature.get('type')).toBe('textblock');\n        });\n\n    });\n\n    describe('Test function - parseAltoFeature_', function() {\n\n        it('Proper working for correct element <TextLine>', function() {\n            var parser = new dlfAltoParser(),\n                testDoc = parser.parseXML_('<TextLine HEIGHT=\"15\" WIDTH=\"40\" VPOS=\"144\" HPOS=\"107\"></TextLine>'),\n                element = $(testDoc).find('TextLine'),\n                feature = parser.parseAltoFeature_(element[0]);\n            expect(typeof feature).toBe('object');\n            expect(feature instanceof ol.Feature).toBe(true);\n            expect(feature.get('height')).toBe(15);\n            expect(feature.get('width')).toBe(40);\n            expect(feature.get('vpos')).toBe(144);\n            expect(feature.get('hpos')).toBe(107);\n            expect(feature.get('type')).toBe('textline');\n        });\n\n        it('Proper working for correct element <Page>', function() {\n            var parser = new dlfAltoParser(),\n                testDoc = parser.parseXML_('<Page></Page>'),\n                element = $(testDoc).find('Page'),\n                feature = parser.parseAltoFeature_(element[0]);\n            expect(typeof feature).toBe('object');\n            expect(feature instanceof ol.Feature).toBe(true);\n            expect(feature.get('type')).toBe('page');\n        });\n\n    });\n\n    describe('Test function - parseTextBlockFeatures_', function() {\n\n        it('Proper working for correct element <TextBlock>', function() {\n            var parser = new dlfAltoParser(),\n                testDoc = parser.parseXML_(textblock),\n                features = parser.parseTextBlockFeatures_(testDoc);\n\n            expect(features.length).toBe(1);\n\n            var feature = features[0];\n            expect(feature instanceof ol.Feature).toBe(true);\n            expect(feature.get('type')).toBe('textblock');\n\n            // get TextBlock / ComposedBlock elements\n            var textline = feature.get('textlines');\n            expect(textline.length).toBe(1);\n        });\n\n    });\n\n    describe('Test function - parseTextLineFeatures_', function() {\n\n        it('Proper working for correct element <TextLine>', function() {\n            var parser = new dlfAltoParser(),\n                testDoc = parser.parseXML_(textblock),\n                features = parser.parseTextLineFeatures_(testDoc);\n\n            expect(features.length).toBe(1);\n\n            var feature = features[0];\n            expect(feature instanceof ol.Feature).toBe(true);\n            expect(feature.get('type')).toBe('textline');\n        });\n\n    });\n\n    describe('Test function - parsePrintSpaceFeature_', function() {\n\n        it('Proper working for correct element <PrintSpace>', function() {\n            var parser = new dlfAltoParser(),\n                testDoc = parser.parseXML_(document),\n                feature = parser.parsePrintSpaceFeature_(testDoc);\n\n            expect(feature instanceof ol.Feature).toBe(true);\n            expect(feature.get('type')).toBe('printspace');\n\n            // get TextBlock / ComposedBlock elements\n            var blocks = feature.get('textblocks');\n            expect(blocks.length).toBe(4);\n        });\n\n        it('Proper working for correct element <PrintSpace> with empty node', function() {\n            var parser = new dlfAltoParser(),\n                testDoc = parser.parseXML_('<test></test>'),\n                feature = parser.parsePrintSpaceFeature_(testDoc);\n\n            expect(feature).toBe(undefined);\n        });\n\n    });\n\n    describe('Test function - parseFeatures', function() {\n\n        it('Proper working of complete parsing', function() {\n            var parser = new dlfAltoParser(),\n                features = parser.parseFeatures(document);\n\n            expect(features.length).toBe(1);\n\n            // check if root type is page\n            var feature = features[0];\n            expect(feature instanceof ol.Feature).toBe(true);\n            expect(feature.get('type')).toBe('page');\n\n            // get PrintSpace\n            var printspace = feature.get('printspace');\n            expect(printspace instanceof ol.Feature).toBe(true);\n            expect(printspace.get('height')).toBe(1629);\n            expect(printspace.get('width')).toBe(1125);\n            expect(printspace.get('vpos')).toBe(0);\n            expect(printspace.get('hpos')).toBe(0);\n            expect(printspace.get('type')).toBe('printspace');\n\n            // get TextBlock / ComposedBlock elements\n            var blocks = printspace.get('textblocks');\n            expect(blocks.length).toBe(4);\n        });\n\n        it('Proper working of getStringFeatures', function() {\n            var parser = new dlfAltoParser(),\n                features = parser.parseFeatures(document),\n                stringFeatures = features[0].getStringFeatures()\n\n            // Test custom attached function to ol.Feature\n            expect(stringFeatures.length).toBe(10);\n        });\n    });\n});\n"],"sourceRoot":"/home/christopher/IdeaProjects/kitodo-presentation/es6"}