{"version":3,"sources":["plugins/audioplayer/js/tx_dlf_audioplayer.js"],"names":["dlfAudioPlayer","settings","parentElId","undefined","swfPath","solutions","audioOptions","audio","Error","format","JPLAYER_MIMETYPE_FORMAT_MAPPING","mimeType","url","jPlayerOptions","ready","$","jPlayer","solution","supplied","cssSelectorAncestor","useStateClassSkin","autoBlur","smoothPlayBar","keyEnabled","remainingDuration","toggleDuration","after"],"mappings":";;AAAA;;;;;;;;;;AAUA;;;;AAIA,IAAIA,iBAAiB,SAAjBA,cAAiB,CAAUC,QAAV,EAAoB;;AAErC,QAAIC,aAAaD,SAASC,UAAT,KAAwBC,SAAxB,GAAoCF,SAASC,UAA7C,GAA0D,cAA3E;AAAA,QACEE,UAAUH,SAASG,OAAT,KAAqBD,SAArB,GAAiCF,SAASG,OAA1C,GAAoDD,SADhE;AAAA,QAEEE,YAAYD,YAAYD,SAAZ,GAAwB,aAAxB,GAAwC,MAFtD;AAAA,QAGEG,eAAeL,SAASM,KAAT,KAAmBJ,SAAnB,GAA+BF,SAASM,KAAxC,GAAgDJ,SAHjE;;AAKA,QAAIG,iBAAiBH,SAArB,EACI,MAAM,IAAIK,KAAJ,CAAU,+BAAV,CAAN;;AAEJ,QAAIC,SAAST,eAAeU,+BAAf,CAA+CJ,aAAaK,QAA5D,MAA0ER,SAA1E,GACHH,eAAeU,+BAAf,CAA+CJ,aAAaK,QAA5D,CADG,GAEH,KAFV;AAGAL,iBAAaG,MAAb,IAAuBH,aAAaM,GAApC;;AAEA;AACA;AACA;AACA,QAAIC,iBAAiB;AACjBC,eAAO,iBAAW;AAChBC,cAAE,IAAF,EAAQC,OAAR,CAAgB,UAAhB,EAA4BV,YAA5B;AACD,SAHgB;AAIjBW,kBAAUZ,SAJO;AAKjBa,kBAAUT,MALO;AAMjBU,6BAAqB,iBANJ;AAOjBC,2BAAmB,IAPF;AAQjBC,kBAAU,KARO;AASjBC,uBAAe,IATE;AAUjBC,oBAAY,IAVK;AAWjBC,2BAAmB,KAXF;AAYjBC,wBAAgB;AAZC,KAArB;;AAeA,QAAIrB,YAAYD,SAAhB,EAA2B;AACvBU,uBAAe,SAAf,IAA4BT,OAA5B;AACH;;AAED;AACA;AACA;;AAEA;AACAW,MAAE,MAAMb,UAAR,EAAoBwB,KAApB,CAA0B,4FACxB,+FADwB,GAExB,8IAFwB,GAGxB,gHAHwB,GAIxB,2JAJwB,GAKxB,uNALwB,GAMxB,sKANwB,GAOxB,mIAPwB,GAQxB,4MARwB,GASxB,oBATF;;AAWA;AACAX,MAAE,MAAMb,UAAR,EAAoBc,OAApB,CAA4BH,cAA5B;AACH,CAvDD;;AAyDA;;;AAGAb,eAAeU,+BAAf,GAAiD;AAC7C,kBAAc,KAD+B;AAE7C,iBAAa,KAFgC;AAG7C,iBAAa;AAHgC,CAAjD","file":"tx_dlf_audioplayer.js","sourcesContent":["/**\n * (c) Kitodo. Key to digital objects e.V. <contact@kitodo.org>\n *\n * This file is part of the Kitodo and TYPO3 projects.\n *\n * @license GNU General Public License version 3 or later.\n * For the full copyright and license information, please read the\n * LICENSE.txt file that was distributed with this source code.\n */\n\n/**\n * @param {Object} settings\n * @constructor\n */\nvar dlfAudioPlayer = function (settings) {\n\n    var parentElId = settings.parentElId !== undefined ? settings.parentElId : 'tx-dlf-audio',\n      swfPath = settings.swfPath !== undefined ? settings.swfPath : undefined,\n      solutions = swfPath !== undefined ? 'html, flash' : 'html',\n      audioOptions = settings.audio !== undefined ? settings.audio : undefined;\n\n    if (audioOptions === undefined)\n        throw new Error('Missing audio configurations.');\n\n    var format = dlfAudioPlayer.JPLAYER_MIMETYPE_FORMAT_MAPPING[audioOptions.mimeType] !== undefined\n            ? dlfAudioPlayer.JPLAYER_MIMETYPE_FORMAT_MAPPING[audioOptions.mimeType]\n            : 'mp3';\n    audioOptions[format] = audioOptions.url;\n\n    //\n    // Load params\n    //\n    var jPlayerOptions = {\n        ready: function() {\n          $(this).jPlayer('setMedia', audioOptions)\n        },\n        solution: solutions,\n        supplied: format,\n        cssSelectorAncestor: '#jp_container_1',\n        useStateClassSkin: true,\n        autoBlur: false,\n        smoothPlayBar: true,\n        keyEnabled: true,\n        remainingDuration: false,\n        toggleDuration: true\n    };\n\n    if (swfPath !== undefined) {\n        jPlayerOptions['swfPath'] = swfPath;\n    }\n\n    //\n    // Initialize the audio player\n    //\n\n    // player dom\n    $('#' + parentElId).after('<div id=\"jp_container_1\" class=\"jp-audio\" role=\"application\" aria-label=\"media player\">' +\n      '<div class=\"jp-type-single\"><div class=\"jp-gui jp-interface\"><div class=\"jp-volume-controls\">' +\n      '<button class=\"jp-mute\" role=\"button\" tabindex=\"0\">mute</button><button class=\"jp-volume-max\" role=\"button\" tabindex=\"0\">max volume</button>' +\n      '<div class=\"jp-volume-bar\"><div class=\"jp-volume-bar-value\"></div></div></div><div class=\"jp-controls-holder\">' +\n      '<div class=\"jp-controls\"><button class=\"jp-play\" role=\"button\" tabindex=\"0\">play</button><button class=\"jp-stop\" role=\"button\" tabindex=\"0\">stop</button>' +\n      '</div><div class=\"jp-progress\"><div class=\"jp-seek-bar\"><div class=\"jp-play-bar\"></div></div></div><div class=\"jp-current-time\" role=\"timer\" aria-label=\"time\">&nbsp;</div><span class=\"jp-duration-divider\">/</span>' +\n      '<div class=\"jp-duration\" role=\"timer\" aria-label=\"duration\">&nbsp;</div><div class=\"jp-toggles\"><button class=\"jp-repeat\" role=\"button\" tabindex=\"0\">repeat</button>' +\n      '</div></div></div><div class=\"jp-details\"><div class=\"jp-title\" aria-label=\"title\">&nbsp;</div></div><div class=\"jp-no-solution\">' +\n      '<span>Update Required</span>To play the media you will need to either update your browser to a recent version or update your <a href=\"http://get.adobe.com/flashplayer/\" target=\"_blank\">Flash plugin</a>.' +\n      '</div></div></div>');\n\n    // jplayer init\n    $('#' + parentElId).jPlayer(jPlayerOptions);\n};\n\n/**\n * @type {{MP3: string}}\n */\ndlfAudioPlayer.JPLAYER_MIMETYPE_FORMAT_MAPPING = {\n    'audio/mpeg': 'mp3',\n    'audio/mp4': 'm4a',\n    'audio/wav': 'wav'\n};\n"],"sourceRoot":"/home/christopher/IdeaProjects/kitodo-presentation/es6"}